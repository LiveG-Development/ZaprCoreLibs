<!DOCTYPE html><html><head><title>L10n Tests</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui"><script>var _manifest = {"name": {"zh_CN": "L10n\u6d4b\u8bd5", "fr_FR": "Tests de L10n", "ar_EG": "\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a L10n", "en_GB": "L10n Tests"}, "description": {"zh_CN": "\u6d4b\u8bd5l10n\u5e93\u7684l10n\u529f\u80fd\u3002", "fr_FR": "Test des capacit\u00e9s l10n de la biblioth\u00e8que l10n.", "ar_EG": "\u0627\u062e\u062a\u0628\u0627\u0631 \u0642\u062f\u0631\u0627\u062a l10n \u0644\u0645\u0643\u062a\u0628\u0629 l10n.", "en_GB": "Testing the l10n capabilities of the l10n library."}, "mainScript": "script.js", "package": "tech.liveg.opensource.l10n", "version": "0.1.0", "defaultLocale": "en_GB"};</script><script>var _assets={};var _assets={};var _assets={};var core={each:function(dict,callback){for(var key in dict){if(dict.hasOwnProperty(key)){callback(key,dict[key],dict);}}},unpack:function(dict,target=window){for(var key in dict){if(dict.hasOwnProperty(key)){target[key]=dict[key];}}},request:function(url,callback,type="GET",body=null){var request=new XMLHttpRequest();request.onreadystatechange=callback(request.responseText,{code:request.status,message:request.statusText},request.readyState,request.responseType);request.open(type,url,true);request.send(body);},parameter:function(parameter){return decodeURIComponent((new RegExp("[?|&]"+parameter+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null;},generateKey:function(length=16,digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"){var key="";for(var i=0;i<length;i++){key+=digits.charAt(Math.floor(Math.random()*digits.length));}
return key;}};var dom={RANGE_ALL:-1,loaded:function(callback){window.onload=callback;},element:function(selector="body",overrides=[]){var elements;if(selector==""){elements=overrides;}else{elements=document.querySelectorAll(selector);}
return{reference:elements,html:{get:function(){return elements[0].innerHTML;},set:function(content){core.each(elements,function(key,value,dict){value.innerHTML=content;});return dom.element("",elements);}},text:{get:function(){return elements[0].textContent;},set:function(content){core.each(elements,function(key,value,dict){value.textContent=content;});return dom.element("",elements);}},attribute:function(name){return{get:function(){return elements[0].getAttribute(name);},set:function(content){core.each(elements,function(key,value,dict){value.setAttribute(name,content);});return dom.element("",elements);},delete:function(){core.each(elements,function(key,value,dict){value.removeAttribute(name);});return dom.element("",elements);},exists:function(){return elements[0].hasAttribute(name);}};},children:function(selection=dom.RANGE_ALL){if(selection==dom.RANGE_ALL){return dom.element("",elements[0].children);}else{return dom.element("",[elements[0].children[selection]]);}},childCount:function(){return elements[0].children.length;},parent:function(){return dom.element("",[elements[0].parentElement]);},pick:function(selection){if(selection==dom.RANGE_ALL){return dom.element("",elements);}else{return dom.element("",[elements[selection]]);}},newChild:function(element){core.each(elements,function(key,value,dict){value.appendChild(element.reference[0]);});return dom.element("",elements);},delete:function(){for(var i=elements.length-1;i>=0;i--){elements[i].remove();}},style:{get:function(property){return elements[0].style[property];},getAll:function(){return elements[0].style;},set:function(property,value){core.each(elements,function(key,elementValue,dict){elementValue.style[property]=value;});return dom.element("",elements);},setPush:function(dict){core.each(elements,function(key,value,elementDict){core.unpack(dict,value.style);});return dom.element("",elements);},delete:function(property){core.each(elements,function(key,value,dict){value.style.removeProperty(property);});return dom.element("",elements);}},events:{listen:function(event,callback,useCapture=false){core.each(elements,function(key,value,dict){value.addEventListener(event,callback,useCapture);});return dom.element("",elements);},ignore:function(event,usedCallback){core.each(elements,function(key,value,dict){value.removeEventListener(event,usedCallback);});return dom.element("",elements);}}};},new:function(name){return dom.element("",[document.createElement(name)]);}};var _assets={};var _assets={};var _assets={};var core={each:function(dict,callback){for(var key in dict){if(dict.hasOwnProperty(key)){callback(key,dict[key],dict);}}},unpack:function(dict,target=window){for(var key in dict){if(dict.hasOwnProperty(key)){target[key]=dict[key];}}},request:function(url,callback,type="GET",body=null){var request=new XMLHttpRequest();request.onreadystatechange=callback(request.responseText,{code:request.status,message:request.statusText},request.readyState,request.responseType);request.open(type,url,true);request.send(body);},parameter:function(parameter){return decodeURIComponent((new RegExp("[?|&]"+parameter+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null;},generateKey:function(length=16,digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"){var key="";for(var i=0;i<length;i++){key+=digits.charAt(Math.floor(Math.random()*digits.length));}
return key;}};var dom={RANGE_ALL:-1,loaded:function(callback){window.onload=callback;},element:function(selector="body",overrides=[]){var elements;if(selector==""){elements=overrides;}else{elements=document.querySelectorAll(selector);}
return{reference:elements,html:{get:function(){return elements[0].innerHTML;},set:function(content){core.each(elements,function(key,value,dict){value.innerHTML=content;});return dom.element("",elements);}},text:{get:function(){return elements[0].textContent;},set:function(content){core.each(elements,function(key,value,dict){value.textContent=content;});return dom.element("",elements);}},attribute:function(name){return{get:function(){return elements[0].getAttribute(name);},set:function(content){core.each(elements,function(key,value,dict){value.setAttribute(name,content);});return dom.element("",elements);},delete:function(){core.each(elements,function(key,value,dict){value.removeAttribute(name);});return dom.element("",elements);},exists:function(){return elements[0].hasAttribute(name);}};},children:function(selection=dom.RANGE_ALL){if(selection==dom.RANGE_ALL){return dom.element("",elements[0].children);}else{return dom.element("",[elements[0].children[selection]]);}},childCount:function(){return elements[0].children.length;},parent:function(){return dom.element("",[elements[0].parentElement]);},pick:function(selection){if(selection==dom.RANGE_ALL){return dom.element("",elements);}else{return dom.element("",[elements[selection]]);}},newChild:function(element){core.each(elements,function(key,value,dict){value.appendChild(element.reference[0]);});return dom.element("",elements);},delete:function(){for(var i=elements.length-1;i>=0;i--){elements[i].remove();}},style:{get:function(property){return elements[0].style[property];},getAll:function(){return elements[0].style;},set:function(property,value){core.each(elements,function(key,elementValue,dict){elementValue.style[property]=value;});return dom.element("",elements);},setPush:function(dict){core.each(elements,function(key,value,elementDict){core.unpack(dict,value.style);});return dom.element("",elements);},delete:function(property){core.each(elements,function(key,value,dict){value.style.removeProperty(property);});return dom.element("",elements);}},events:{listen:function(event,callback,useCapture=false){core.each(elements,function(key,value,dict){value.addEventListener(event,callback,useCapture);});return dom.element("",elements);},ignore:function(event,usedCallback){core.each(elements,function(key,value,dict){value.removeEventListener(event,usedCallback);});return dom.element("",elements);}}};},new:function(name){return dom.element("",[document.createElement(name)]);}};var importer={generateLink:function(asset,type="text/plain"){return"data:"+type+";base64,"+asset;},generateLinkDOMElement:function(asset,type="text/css",relation="stylesheet"){return dom.new("link").attribute("rel").set(relation).attribute("href").set(importer.generateLink(asset,type));},getString:function(asset){return decodeURIComponent(atob(asset).split("").map(function(char){return"%"+("00"+char.charCodeAt(0).toString(16)).slice(-2);}).join(""));}};var _assets={};var _assets={};var core={each:function(dict,callback){for(var key in dict){if(dict.hasOwnProperty(key)){callback(key,dict[key],dict);}}},unpack:function(dict,target=window){for(var key in dict){if(dict.hasOwnProperty(key)){target[key]=dict[key];}}},request:function(url,callback,type="GET",body=null){var request=new XMLHttpRequest();request.onreadystatechange=callback(request.responseText,{code:request.status,message:request.statusText},request.readyState,request.responseType);request.open(type,url,true);request.send(body);},parameter:function(parameter){return decodeURIComponent((new RegExp("[?|&]"+parameter+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null;},generateKey:function(length=16,digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"){var key="";for(var i=0;i<length;i++){key+=digits.charAt(Math.floor(Math.random()*digits.length));}
return key;}};var l10n={locales:{},language:"xx_XX",log:[],languageData:{friendlyName:"Neutral",friendlyNameShort:"Neutral",direction:"ltr",strings:{}},load:function(code,data){if(typeof(data)=="string"){l10n.locales[code]=JSON.parse(data);}else{l10n.locales[code]=data;}},use:function(code){l10n.language=code;l10n.languageData=l10n.locales[code];},getBrowserLocale:function(){return navigator.language.replace(/-/g,"_");},addToLog:function(data,result,success=true,date=new Date()){l10n.log.push({data:data,result:result,success:success,date:date});},formatLocale:function(data,code,options={}){if(data instanceof Number){return data.toLocaleString(code.replace(/_/g,"-"),options);}else if(data instanceof Date){return data.toLocaleDateString(code.replace(/_/g,"-"),options);}else{return data;}},translate:function(string,arguments={},useLocaleFormats=true){if(typeof(arguments)!="object"){arguments=[arguments];}
if(l10n.languageData.strings[string]!=undefined){var foundTranslation=null;if(typeof(l10n.languageData.strings[string])=="object"){var rules=l10n.languageData.strings[string];for(var rule in rules){var originalRule=rule;for(var argument in arguments){if(useLocaleFormats){rule=rule.replace(new RegExp("\\{"+argument+"\\}","g"),"`"+String(l10n.formatLocale(arguments,l10n.language)).replace(/`/g,"\\`")+"`");}else{rule=rule.replace(new RegExp("\\{"+argument+"\\}","g"),"`"+String(arguments).replace(/`/g,"\\`")+"`");}}
if(eval(rule)){foundTranslation=rules[originalRule];}}}else{foundTranslation=l10n.languageData.strings[string];}
if(foundTranslation!=null){for(var i=0;i<1000;i++){foundTranslation=foundTranslation.replace(new RegExp("\\{"+i+"\\}","g"),arguments[i]);}
l10n.addToLog(string,foundTranslation);return foundTranslation;}else{l10n.addToLog(string,null,false);throw"Could not translate string \""+string+"\"";}}else{l10n.addToLog(string,null,false);}}};_assets["en_GB.json"]="ewogICAgImZyaWVuZGx5TmFtZSI6ICJFbmdsaXNoIChVbml0ZWQgS2luZ2RvbSkiLAogICAgImZyaWVuZGx5TmFtZVNob3J0IjogIkVuZ2xpc2giLAogICAgImRpcmVjdGlvbiI6ICJsdHIiLAogICAgInN0cmluZ3MiOiB7CiAgICAgICAgInRpdGxlIjogIkwxMG4gVGVzdHMiLAogICAgICAgICJoZWFkaW5nIjogIkhlbGxvLCB3b3JsZCEiLAogICAgICAgICJwYXJhZ3JhcGgiOiAiVGhpcyBpcyBhIHRlc3Qgb2YgbXkgYnJpbGxpYW50IGFwcC4iLAogICAgICAgICJleGFtcGxlMSI6ICJUcmVlczogezB9IiwKICAgICAgICAiZXhhbXBsZTIiOiB7CiAgICAgICAgICAgICJ7MH0gPT0gYDFgIjogIlRoZXJlIGlzIDEgYmFuYW5hIHVwIGEgdHJlZS4iLAogICAgICAgICAgICAiezB9ICE9IGAxYCI6ICJUaGVyZSBhcmUgezB9IGJhbmFuYXMgdXAgYSB0cmVlLiIKICAgICAgICB9CiAgICB9Cn0=";_assets["fr_FR.json"]="ewogICAgImZyaWVuZGx5TmFtZSI6ICJGcmFuw6dhaXMgKEZyYW5jZSkiLAogICAgImZyaWVuZGx5TmFtZVNob3J0IjogIkZyYW7Dp2FpcyIsCiAgICAiZGlyZWN0aW9uIjogImx0ciIsCiAgICAic3RyaW5ncyI6IHsKICAgICAgICAidGl0bGUiOiAiVGVzdHMgZGUgTDEwbiIsCiAgICAgICAgImhlYWRpbmciOiAiQm9uam91ciwgbGUgbW9uZGUgISIsCiAgICAgICAgInBhcmFncmFwaCI6ICJDZWNpIGVzdCB1biB0ZXN0IGRlIG1vbiBhcHBsaWNhdGlvbiBicmlsbGFudC4iCiAgICB9Cn0=";_assets["zh_CN.json"]="ewogICAgImZyaWVuZGx5TmFtZSI6ICLkuK3mlofvvIjnroDkvZPvvIzkuK3lm73vvIkiLAogICAgImZyaWVuZGx5TmFtZVNob3J0IjogIuS4reaWhyIsCiAgICAiZGlyZWN0aW9uIjogImx0ciIsCiAgICAic3RyaW5ncyI6IHsKICAgICAgICAidGl0bGUiOiAiTDEwbua1i+ivlSIsCiAgICAgICAgImhlYWRpbmciOiAi5L2g5aW977yM5LiW55WM77yBIiwKICAgICAgICAicGFyYWdyYXBoIjogIui/meaYr+WvueaIkeeahOeyvuW9qeW6lOeUqOeoi+W6j+eahOa1i+ivleOAgiIKICAgIH0KfQ==";_assets["ar_EG.json"]="ewogICAgImZyaWVuZGx5TmFtZSI6ICLYp9mE2LnYsdio2YrYqSAo2YXYtdixKSIsCiAgICAiZnJpZW5kbHlOYW1lU2hvcnQiOiAi2KfZhNi52LHYqNmK2KkiLAogICAgImRpcmVjdGlvbiI6ICJydGwiLAogICAgInN0cmluZ3MiOiB7CiAgICAgICAgInRpdGxlIjogItin2K7Yqtio2KfYsdin2KogTDEwbiIsCiAgICAgICAgImhlYWRpbmciOiAi2YXYsdit2KjYp9iMINio2KfZhNi52KfZhNmFISIsCiAgICAgICAgInBhcmFncmFwaCI6ICLZh9iw2Kcg2KfYrtiq2KjYp9ixINmE2KrYt9io2YrZgtmKINin2YTYsdin2KbYuS4iCiAgICB9Cn0=";l10n.load("en_GB",importer.getString(_assets["en_GB.json"]));l10n.load("fr_FR",importer.getString(_assets["fr_FR.json"]));l10n.load("zh_CN",importer.getString(_assets["zh_CN.json"]));l10n.load("ar_EG",importer.getString(_assets["ar_EG.json"]));var lang=l10n.getBrowserLocale();function _(){return l10n.translate(...arguments);}
if(core.parameter("lang")!=null){lang=core.parameter("lang");}
if(!(lang in l10n.locales)){lang="en_GB";}
l10n.use(lang);dom.loaded(function(){dom.element().attribute("dir").set(l10n.languageData.direction);dom.element("title").text.set(_("title"));dom.element().newChild(dom.new("h1").text.set(_("heading")));dom.element().newChild(dom.new("p").text.set(_("paragraph")));dom.element().newChild(dom.new("p").text.set(_("example1",[5])));dom.element().newChild(dom.new("p").text.set(_("example2",[8])));});</script></head><body></body></html>